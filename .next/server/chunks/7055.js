"use strict";exports.id=7055,exports.ids=[7055],exports.modules={5336:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},28559:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},34570:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(60687),e=c(63213),f=c(16189);function g({children:a,allowedRoles:b,fallbackRoute:c="/login"}){let{user:g,isLoading:h}=(0,e.A)();return((0,f.useRouter)(),h)?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-600 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):g&&b.includes(g.role)?(0,d.jsx)(d.Fragment,{children:a}):null}c(43210)},34818:(a,b,c)=>{c.d(b,{x:()=>g});var d=c(43210),e=c(46952),f=c(25555);function g(){let{createNotification:a}=(0,e.E)(),b=(0,d.useCallback)(async(b,c,d,e,g={})=>{let h=a(f.I.TIMESHEET_SUBMITTED,b,void 0,"timesheet",{employeeName:c,period:d,totalHours:e,submittedAt:new Date().toISOString(),...g.metadata});try{await fetch("/api/notifications/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"tgarrick@westendworkforce.com",notification:{id:`timesheet_submitted_${Date.now()}`,type:"timesheet_submitted",title:`Timesheet Pending Approval - ${c} submitted timesheet`,message:`${c} submitted timesheet for ${d} (${e} hours)`,priority:"high",userId:b,relatedId:h.id,relatedType:"timesheet",isRead:!1,isEmailSent:!1,createdAt:new Date,metadata:{employeeName:c,period:d,totalHours:e,submittedAt:new Date().toISOString(),...g.metadata}},customData:{employeeName:c,period:d,totalHours:e,submittedAt:new Date().toISOString(),managerName:"Manager",actionUrl:"#",reviewUrl:"#",...g.metadata}})})}catch(a){console.error("Failed to send timesheet submission email:",a)}return h},[a]),c=(0,d.useCallback)(async(b,c,d,e,g={})=>{let h=a(f.I.TIMESHEET_APPROVED,b,void 0,"timesheet",{managerName:c,period:d,totalHours:e,approvedAt:new Date().toISOString(),...g.metadata});try{await fetch("/api/notifications/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"tgarrick@westendworkforce.com",notification:{id:`timesheet_approved_${Date.now()}`,type:"timesheet_approved",title:"Timesheet Approved - Your timesheet has been approved",message:`Your timesheet for ${d} (${e} hours) has been approved by ${c}`,priority:"medium",userId:b,relatedId:h.id,relatedType:"timesheet",isRead:!1,isEmailSent:!1,createdAt:new Date,metadata:{managerName:c,period:d,totalHours:e,approvedAt:new Date().toISOString(),...g.metadata}},customData:{managerName:c,period:d,totalHours:e,approvedAt:new Date().toISOString(),employeeName:"Employee",actionUrl:"#",viewUrl:"#",...g.metadata}})})}catch(a){console.error("Failed to send timesheet approval email:",a)}return h},[a]),g=(0,d.useCallback)((b,c,d,e,g={})=>a(f.I.TIMESHEET_REJECTED,b,void 0,"timesheet",{managerName:c,period:d,reason:e,rejectedAt:new Date().toISOString(),...g.metadata}),[a]),h=(0,d.useCallback)(async(b,c,d,e,g={})=>{let h=a(f.I.EXPENSE_SUBMITTED,b,void 0,"expense",{employeeName:c,amount:d,description:e,submittedAt:new Date().toISOString(),...g.metadata});try{await fetch("/api/notifications/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"tgarrick@westendworkforce.com",notification:{id:`expense_submitted_${Date.now()}`,type:"expense_submitted",title:`Expense Report Pending - ${c} submitted $${d.toFixed(2)} expense`,message:`${c} submitted expense report for $${d.toFixed(2)}: ${e}`,priority:"high",userId:b,relatedId:h.id,relatedType:"expense",isRead:!1,isEmailSent:!1,createdAt:new Date,metadata:{employeeName:c,amount:d,description:e,submittedAt:new Date().toISOString(),...g.metadata}},customData:{employeeName:c,amount:d,description:e,submittedAt:new Date().toISOString(),managerName:"Manager",actionUrl:"#",reviewUrl:"#",receiptUrl:"#",...g.metadata}})})}catch(a){console.error("Failed to send expense submission email:",a)}return h},[a]),i=(0,d.useCallback)(async(b,c,d,e,g={})=>{let h=a(f.I.EXPENSE_APPROVED,b,void 0,"expense",{managerName:c,amount:d,description:e,approvedAt:new Date().toISOString(),...g.metadata});try{await fetch("/api/notifications/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"tgarrick@westendworkforce.com",notification:{id:`expense_approved_${Date.now()}`,type:"expense_approved",title:"Expense Report Approved - Your expense has been approved",message:`Your expense report for $${d.toFixed(2)}: ${e} has been approved by ${c}`,priority:"medium",userId:b,relatedId:h.id,relatedType:"expense",isRead:!1,isEmailSent:!1,createdAt:new Date,metadata:{managerName:c,amount:d,description:e,approvedAt:new Date().toISOString(),...g.metadata}},customData:{managerName:c,amount:d,description:e,approvedAt:new Date().toISOString(),employeeName:"Employee",actionUrl:"#",viewUrl:"#",...g.metadata}})})}catch(a){console.error("Failed to send expense approval email:",a)}return h},[a]),j=(0,d.useCallback)((b,c,d,e,g,h={})=>a(f.I.EXPENSE_REJECTED,b,void 0,"expense",{managerName:c,amount:d,description:e,reason:g,rejectedAt:new Date().toISOString(),...h.metadata}),[a]),k=(0,d.useCallback)((b,c,d,e={})=>a(f.I.TIMESHEET_OVERDUE,b,void 0,"timesheet",{period:c,daysOverdue:d,dueDate:new Date().toISOString(),...e.metadata}),[a]),l=(0,d.useCallback)((b,c,d,e,g={})=>a(f.I.DEADLINE_REMINDER,b,void 0,"system",{type:c,deadline:d,daysUntil:e,...g.metadata}),[a]),m=(0,d.useCallback)((b,c,d,e,g={})=>a(f.I.MANAGER_PENDING_REMINDER,b,void 0,"system",{pendingCount:c,pendingTimesheets:d,pendingExpenses:e,reminderAt:new Date().toISOString(),...g.metadata}),[a]),n=(0,d.useCallback)((b,c,d,e,g={})=>a(f.I.EXPENSES_PENDING_REMINDER,b,void 0,"expense",{period:c,timesheetStatus:d,pendingExpenses:e,reminderAt:new Date().toISOString(),...g.metadata}),[a]),o=(0,d.useCallback)((b,c,d,e,g={})=>a(f.I.PERIOD_COMPLETE,b,void 0,"timesheet",{period:c,timesheetStatus:d,expensesStatus:e,completedAt:new Date().toISOString(),...g.metadata}),[a]),p=(0,d.useCallback)((b,c,d,e={})=>a(f.I.NEW_EMPLOYEE_ADDED,b,void 0,"employee",{employeeName:c,department:d,addedAt:new Date().toISOString(),...e.metadata}),[a]),q=(0,d.useCallback)((b,c,d,e={})=>a(f.I.ADMIN_APPROVAL_ACTIVITY,b,void 0,"system",{activity:c,details:d,timestamp:new Date().toISOString(),...e.metadata}),[a]),r=(0,d.useCallback)((b,c,d,e={})=>a(f.I.PAYROLL_CUTOFF,b,void 0,"system",{cutoffDate:c,daysUntil:d,reminderAt:new Date().toISOString(),...e.metadata}),[a]),s=(0,d.useCallback)((b,c,d,e,g={})=>a(f.I.SYSTEM_INTEGRATION,b,void 0,"system",{system:c,status:d,details:e,timestamp:new Date().toISOString(),...g.metadata}),[a]),t=(0,d.useCallback)((b,c,d,e={})=>a(f.I.TRAINING_REMINDER,b,void 0,"system",{trainingType:c,scheduledDate:d,reminderAt:new Date().toISOString(),...e.metadata}),[a]),u=(0,d.useCallback)((b,c,d,e={})=>a(f.I.PERFORMANCE_REVIEW,b,void 0,"system",{reviewDate:c,reviewer:d,scheduledAt:new Date().toISOString(),...e.metadata}),[a]),v=(0,d.useCallback)((b,c,d,e={})=>a(f.I.WORK_ANNIVERSARY,b,void 0,"system",{years:c,startDate:d,anniversaryDate:new Date().toISOString(),...e.metadata}),[a]);return{notifyTimesheetSubmitted:b,notifyTimesheetApproved:c,notifyTimesheetRejected:g,notifyExpenseSubmitted:h,notifyExpenseApproved:i,notifyExpenseRejected:j,notifyTimesheetOverdue:k,notifyDeadlineReminder:l,notifyManagerPendingReminder:m,notifyExpensesPendingReminder:n,notifyPeriodComplete:o,notifyNewEmployeeAdded:p,notifyAdminApprovalActivity:q,notifyPayrollCutoff:r,notifySystemIntegration:s,notifyTrainingReminder:t,notifyPerformanceReview:u,notifyWorkAnniversary:v,notifyOvertimeAlert:(0,d.useCallback)((b,c,d,e=40,g={})=>a(f.I.OVERTIME_ALERT,b,void 0,"timesheet",{hours:c,period:d,threshold:e,alertAt:new Date().toISOString(),...g.metadata}),[a]),notifyLongShiftAlert:(0,d.useCallback)((b,c,d,e=10,g={})=>a(f.I.LONG_SHIFT_ALERT,b,void 0,"timesheet",{shiftHours:c,date:d,threshold:e,alertAt:new Date().toISOString(),...g.metadata}),[a])}}},62688:(a,b,c)=>{c.d(b,{A:()=>i});var d=c(43210);let e=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},f=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:e,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...g,width:b,height:b,stroke:a,strokeWidth:e?24*Number(c)/Number(b):c,className:f("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),i=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...g},i)=>(0,d.createElement)(h,{ref:i,iconNode:b,className:f(`lucide-${e(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...g}));return c.displayName=e(a),c}},96474:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};